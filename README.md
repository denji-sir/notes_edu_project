# 📝 Приложение для работы с заметками

Веб-приложение для создания, хранения, редактирования и организации текстовых заметок с возможностью категоризации и поиска.

## 🚀 Возможности

- ✅ **Создание заметок** - добавление новых заметок с заголовком, содержимым и категорией
- ✏️ **Редактирование** - изменение существующих заметок
- 🗑️ **Удаление** - удаление ненужных заметок с подтверждением
- 👁️ **Просмотр** - детальный просмотр заметок со статистикой
- 🔍 **Поиск** - быстрый поиск по заголовку и содержимому (без учета регистра)
- 🏷️ **Категории** - фильтрация заметок по категориям + страница всех категорий
- 🔄 **Сортировка** - по дате (новые/старые), по заголовку (А-Я/Я-А), по категории
- 📱 **Адаптивный дизайн** - работает на всех устройствах
- 🎨 **Современный UI** - красивый интерфейс на TailwindCSS
- ⚡ **Интерактивность** - счетчик символов, автоскрытие уведомлений, валидация форм
- 🛡️ **Обработка ошибок** - красивые страницы 404 и 500

## 🛠️ Технологии

- **Backend**: Python 3.12, Flask 3.0
- **База данных**: SQLite + SQLAlchemy
- **Frontend**: Jinja2, TailwindCSS, JavaScript
- **Тестирование**: pytest, pytest-flask
- **Окружение**: python-dotenv

## 📦 Установка и запуск

### 1. Клонирование репозитория

```bash
cd /путь/к/проекту
```

### 2. Создание виртуального окружения

```bash
python3 -m venv venv
source venv/bin/activate  # Mac/Linux
# или
venv\Scripts\activate  # Windows
```

### 3. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 4. Настройка переменных окружения

Создайте файл `.env` (уже есть в проекте):

```env
SECRET_KEY=your-secret-key-here
FLASK_ENV=development
FLASK_APP=run.py
```

### 5. Запуск приложения

```bash
python run.py
```

Приложение будет доступно по адресу: **http://127.0.0.1:5000**

### 6. Заполнение демо-данными

```bash
python seed_data.py
```

Это создаст 12 примеров заметок для демонстрации.

## 🧪 Тестирование

Запуск всех тестов:

```bash
pytest tests/ -v
```

Запуск с покрытием:

```bash
pytest tests/ --cov=app --cov-report=html
```

**Результаты тестирования:**
- ✅ 29 тестов пройдено
- ✅ Покрытие кода: >85%

## 📁 Структура проекта

```
notes/
├── app/                      # Основное приложение
│   ├── __init__.py          # Инициализация Flask
│   ├── models/              # Модели данных
│   │   └── note.py          # Модель заметки
│   ├── routes/              # Маршруты
│   │   └── main.py          # Основные маршруты
│   ├── templates/           # HTML шаблоны
│   │   ├── base.html        # Базовый шаблон
│   │   ├── index.html       # Главная страница
│   │   ├── create_note.html # Создание заметки
│   │   ├── edit_note.html   # Редактирование
│   │   ├── view_note.html   # Просмотр
│   │   ├── category.html    # Фильтр по категории
│   │   └── search_results.html # Результаты поиска
│   └── static/              # Статические файлы
│       ├── css/
│       └── js/
│           └── main.js      # JavaScript функционал
├── tests/                   # Тесты
│   ├── conftest.py         # Конфигурация pytest
│   ├── test_models.py      # Тесты моделей
│   └── test_routes.py      # Тесты маршрутов
├── instance/               # База данных
│   └── notes.db           # SQLite БД
├── config.py              # Конфигурация приложения
├── run.py                 # Точка входа
├── seed_data.py          # Скрипт демо-данных
├── requirements.txt       # Зависимости
├── .env                  # Переменные окружения
└── .gitignore           # Игнорируемые файлы
```

## 📝 API Маршруты

| Метод | URL | Описание |
|-------|-----|----------|
| GET | `/` | Главная страница (список заметок) |
| GET/POST | `/note/create` | Создание заметки |
| GET | `/note/<id>` | Просмотр заметки |
| GET/POST | `/note/<id>/edit` | Редактирование заметки |
| POST | `/note/<id>/delete` | Удаление заметки |
| GET | `/category/<name>` | Фильтр по категории |
| GET | `/categories` | Список всех категорий |
| GET | `/search?q=<query>` | Поиск заметок |
| GET | `/?sort=<type>` | Сортировка заметок |

## 🎯 Использование

### Создание заметки

1. Нажмите кнопку "➕ Создать заметку"
2. Заполните поля:
   - **Заголовок** (макс 200 символов)
   - **Содержимое** (обязательно)
   - **Категория** (макс 100 символов)
3. Нажмите "✅ Создать заметку"

### Поиск заметок

1. Введите запрос в поле поиска на главной странице
2. Нажмите "🔍 Найти"
3. Поиск осуществляется без учета регистра по заголовку и содержимому

### Фильтрация по категории

1. На главной странице кликните на нужную категорию
2. Отобразятся все заметки этой категории

### Редактирование заметки

1. Кликните на кнопку "✏️ Изменить" на карточке заметки
2. Отредактируйте нужные поля
3. Нажмите "💾 Сохранить изменения"

### Удаление заметки

1. Кликните на кнопку "🗑️ Удалить"
2. Подтвердите действие в диалоговом окне

## ⚙️ Конфигурация

Приложение поддерживает три конфигурации:

- **development** - режим разработки (по умолчанию)
- **testing** - режим тестирования (in-memory БД)
- **production** - продакшен режим

Для изменения режима установите переменную `FLASK_ENV` в `.env`.

## 🔒 Безопасность

- ✅ CSRF защита через Flask secret key
- ✅ Валидация всех входных данных
- ✅ Защита от SQL-инъекций (ORM)
- ✅ Экранирование HTML (Jinja2)
- ✅ Безопасное хранение переменных в .env

## 📊 Требования к системе

- Python 3.12+
- 50 MB свободного места
- Любая ОС (Windows, Mac, Linux)
- Браузер с поддержкой JavaScript

## 🐛 Известные ограничения

- SQLite не поддерживает полнотекстовый поиск с кириллицей (используется Python-фильтрация)
- При большом количестве заметок (>1000) поиск может быть медленным

## 📄 Лицензия

MIT License


