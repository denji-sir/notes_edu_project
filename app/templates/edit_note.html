{% extends "base.html" %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å: {{ note.title }} - –ú–æ–∏ –ó–∞–º–µ—Ç–∫–∏{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="mb-6">
        <h1 class="text-3xl font-bold text-gray-800">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É</h1>
        <p class="text-gray-600 mt-2">ID –∑–∞–º–µ—Ç–∫–∏: {{ note.id }} | –°–æ–∑–¥–∞–Ω–∞: {{ note.created_at.strftime('%d.%m.%Y %H:%M') }}</p>
    </div>

    <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="bg-white rounded-lg shadow-md p-8">
        <form method="POST" action="{{ url_for('main.edit_note', note_id=note.id) }}">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–º–µ—Ç–∫–∏ -->
            <div class="mb-6">
                <label for="title" class="block text-gray-700 font-semibold mb-2">
                    –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–º–µ—Ç–∫–∏ <span class="text-red-500">*</span>
                </label>
                <input type="text" 
                       id="title" 
                       name="title" 
                       value="{{ title if title is defined else note.title }}"
                       maxlength="200"
                       placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–º–µ—Ç–∫–∏..."
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                       required>
                <p class="text-sm text-gray-500 mt-1">–ú–∞–∫—Å–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤</p>
            </div>

            <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–º–µ—Ç–∫–∏ -->
            <div class="mb-6">
                <label for="content" class="block text-gray-700 font-semibold mb-2">
                    –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–º–µ—Ç–∫–∏ <span class="text-red-500">*</span>
                </label>
                <textarea id="content" 
                          name="content" 
                          rows="10"
                          placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏..."
                          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                          required>{{ content if content is defined else note.content }}</textarea>
                <p class="text-sm text-gray-500 mt-1">–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∑–∞–º–µ—Ç–∫—É</p>
            </div>

            <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
            <div class="mb-6">
                <label for="category" class="block text-gray-700 font-semibold mb-2">
                    –ö–∞—Ç–µ–≥–æ—Ä–∏—è <span class="text-red-500">*</span>
                </label>
                <input type="text" 
                       id="category" 
                       name="category" 
                       value="{{ category if category is defined else note.category }}"
                       maxlength="100"
                       placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–∞–±–æ—Ç–∞, –õ–∏—á–Ω–æ–µ, –ò–¥–µ–∏..."
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                       required>
                <p class="text-sm text-gray-500 mt-1">–ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤</p>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="flex space-x-4">
                <button type="submit" 
                        class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-semibold shadow-md transition">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                </button>
                <a href="{{ url_for('main.view_note', note_id=note.id) }}" 
                   class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 py-3 px-6 rounded-lg font-semibold text-center shadow-md transition">
                    ‚ùå –û—Ç–º–µ–Ω–∞
                </a>
            </div>
        </form>
    </div>

    <!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ -->
    <div class="mt-6 bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
        <p class="text-yellow-800">
            <strong>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:</strong> –ò–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è".
        </p>
    </div>
</div>
{% endblock %}
