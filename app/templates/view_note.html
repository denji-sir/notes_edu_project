{% extends "base.html" %}

{% block title %}{{ note.title }} - –ú–æ–∏ –ó–∞–º–µ—Ç–∫–∏{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" -->
    <div class="mb-4">
        <a href="{{ url_for('main.index') }}" class="text-blue-600 hover:text-blue-800 font-semibold">
            ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∑–∞–º–µ—Ç–æ–∫
        </a>
    </div>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–º–µ—Ç–∫–∏ -->
    <div class="bg-white rounded-lg shadow-lg p-8">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è -->
        <div class="mb-6">
            <div class="flex justify-between items-start mb-4">
                <h1 class="text-4xl font-bold text-gray-800">{{ note.title }}</h1>
                <span class="inline-block px-4 py-2 bg-blue-100 text-blue-800 rounded-full font-semibold">
                    {{ note.category }}
                </span>
            </div>
            
            <!-- –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="flex items-center text-gray-600 space-x-4">
                <span class="flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
                    </svg>
                    ID: {{ note.id }}
                </span>
                <span class="flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    {{ note.created_at.strftime('%d.%m.%Y –≤ %H:%M') }}
                </span>
            </div>
        </div>

        <hr class="my-6">

        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–º–µ—Ç–∫–∏ -->
        <div class="prose prose-lg max-w-none">
            <div class="text-gray-700 whitespace-pre-wrap leading-relaxed">{{ note.content }}</div>
        </div>

        <hr class="my-6">

        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
        <div class="flex space-x-4">
            <a href="{{ url_for('main.edit_note', note_id=note.id) }}" 
               class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-6 rounded-lg font-semibold text-center shadow-md transition">
                ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É
            </a>
            <form method="post" action="{{ url_for('main.delete_note', note_id=note.id) }}" class="flex-1" onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–º–µ—Ç–∫—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.');">
                <button type="submit" 
                        class="w-full bg-red-500 hover:bg-red-600 text-white py-3 px-6 rounded-lg font-semibold shadow-md transition">
                    üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É
                </button>
            </form>
        </div>
    </div>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="mt-6 grid md:grid-cols-2 gap-4">
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="bg-blue-50 rounded-lg p-4">
            <h3 class="font-semibold text-blue-900 mb-2">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <ul class="text-blue-800 space-y-1">
                <li>–°–∏–º–≤–æ–ª–æ–≤: {{ note.content|length }}</li>
                <li>–°–ª–æ–≤: ~{{ (note.content.split()|length) }}</li>
            </ul>
        </div>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <div class="bg-green-50 rounded-lg p-4">
            <h3 class="font-semibold text-green-900 mb-2">üîó –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏</h3>
            <ul class="text-green-800 space-y-1">
                <li><a href="{{ url_for('main.index') }}" class="hover:underline">–í—Å–µ –∑–∞–º–µ—Ç–∫–∏</a></li>
                <li><a href="{{ url_for('main.category', category_name=note.category) }}" class="hover:underline">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ note.category }}</a></li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
