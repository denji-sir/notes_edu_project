from app import create_app, db
from app.models.note import Note
from datetime import datetime, timedelta
import random

demo_notes = [
    {
        'title': '–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫',
        'content': '–ö—É–ø–∏—Ç—å: –º–æ–ª–æ–∫–æ, —Ö–ª–µ–±, —è–π—Ü–∞, —Å—ã—Ä, –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã. –ù–µ –∑–∞–±—ã—Ç—å –ø—Ä–æ –∫–æ—Ä–º –¥–ª—è –∫–æ—Ç–∞!',
        'category': '–õ–∏—á–Ω–æ–µ'
    },
    {
        'title': '–ò–¥–µ–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞',
        'content': '–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É, —ç–∫—Å–ø–æ—Ä—Ç –≤ PDF, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å –æ–±–ª–∞–∫–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∫—É Markdown.',
        'category': '–†–∞–±–æ—Ç–∞'
    },
    {
        'title': '–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞',
        'content': '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –≥—Ä—É–¥—å –∏ —Ç—Ä–∏—Ü–µ–ø—Å\n–°—Ä–µ–¥–∞: —Å–ø–∏–Ω–∞ –∏ –±–∏—Ü–µ–ø—Å\n–ü—è—Ç–Ω–∏—Ü–∞: –Ω–æ–≥–∏ –∏ –ø–ª–µ—á–∏',
        'category': '–°–ø–æ—Ä—Ç'
    },
    {
        'title': '–ö–Ω–∏–≥–∏ –∫ –ø—Ä–æ—á—Ç–µ–Ω–∏—é',
        'content': '1. "–ß–∏—Å—Ç—ã–π –∫–æ–¥" –†–æ–±–µ—Ä—Ç –ú–∞—Ä—Ç–∏–Ω\n2. "–§–∏–ª–æ—Å–æ—Ñ–∏—è Java" –ë—Ä—é—Å –≠–∫–∫–µ–ª—å\n3. "–ê–ª–≥–æ—Ä–∏—Ç–º—ã. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑"',
        'category': '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ'
    },
    {
        'title': '–ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é',
        'content': '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –≤—Å—Ç—Ä–µ—á–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º –≤ 10:00\n–í—Ç–æ—Ä–Ω–∏–∫: –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞\n–°—Ä–µ–¥–∞: –∫–æ–¥-—Ä–µ–≤—å—é\n–ß–µ—Ç–≤–µ—Ä–≥: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n–ü—è—Ç–Ω–∏—Ü–∞: –¥–µ–ø–ª–æ–π',
        'category': '–†–∞–±–æ—Ç–∞'
    },
    {
        'title': '–†–µ—Ü–µ–ø—Ç –ø–∞—Å—Ç—ã –∫–∞—Ä–±–æ–Ω–∞—Ä–∞',
        'content': '–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã: —Å–ø–∞–≥–µ—Ç—Ç–∏, –±–µ–∫–æ–Ω, —è–π—Ü–∞, –ø–∞—Ä–º–µ–∑–∞–Ω, —á–µ—Ä–Ω—ã–π –ø–µ—Ä–µ—Ü.\n–í–∞—Ä–∏—Ç—å –ø–∞—Å—Ç—É 8-10 –º–∏–Ω—É—Ç. –û–±–∂–∞—Ä–∏—Ç—å –±–µ–∫–æ–Ω. –°–º–µ—à–∞—Ç—å —Å —è–π—Ü–∞–º–∏ –∏ —Å—ã—Ä–æ–º.',
        'category': '–†–µ—Ü–µ–ø—Ç—ã'
    },
    {
        'title': '–¶–µ–ª–∏ –Ω–∞ –≥–æ–¥',
        'content': '–í—ã—É—á–∏—Ç—å Python –∏ Flask, —Å–æ–∑–¥–∞—Ç—å 3 –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –Ω–∞—á–∞—Ç—å —Ñ—Ä–∏–ª–∞–Ω—Å, –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º 3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é.',
        'category': '–õ–∏—á–Ω–æ–µ'
    },
    {
        'title': '–ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞ –≤ –ú–æ—Å–∫–≤—É',
        'content': '–î–∞—Ç—ã: 15-20 –Ω–æ—è–±—Ä—è. –û—Ç–µ–ª—å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω. –í—Å—Ç—Ä–µ—á–∞ —Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏ 16 —á–∏—Å–ª–∞ –≤ 14:00. –ù–µ –∑–∞–±—ã—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é!',
        'category': '–†–∞–±–æ—Ç–∞'
    },
    {
        'title': '–§–∏–ª—å–º—ã –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É',
        'content': '–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä, –ù–∞—á–∞–ª–æ, –ú–∞—Ç—Ä–∏—Ü–∞, –ü–æ–±–µ–≥ –∏–∑ –®–æ—É—à–µ–Ω–∫–∞, –ó–µ–ª–µ–Ω–∞—è –º–∏–ª—è, –ë–æ–π—Ü–æ–≤—Å–∫–∏–π –∫–ª—É–±',
        'category': '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è'
    },
    {
        'title': '–ó–∞–º–µ—Ç–∫–∏ —Å –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏',
        'content': '–ù–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: GraphQL, Docker, Kubernetes. –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –¥–æ–∫–ª–∞–¥—ã –ø—Ä–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∏ CI/CD.',
        'category': '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ'
    },
    {
        'title': '–ü–æ–¥–∞—Ä–∫–∏ –Ω–∞ –ù–æ–≤—ã–π –ì–æ–¥',
        'content': '–ú–∞–º–µ - –∫–Ω–∏–≥–∞, –ü–∞–ø–µ - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –ë—Ä–∞—Ç—É - –Ω–∞—É—à–Ω–∏–∫–∏, –°–µ—Å—Ç—Ä–µ - –∫–æ—Å–º–µ—Ç–∏–∫–∞',
        'category': '–õ–∏—á–Ω–æ–µ'
    },
    {
        'title': '–ë–∞–≥–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ',
        'content': 'Bug #1: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\nBug #2: –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–º–µ—Ç–∫–∏\nBug #3: –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö',
        'category': '–†–∞–±–æ—Ç–∞'
    }
]


def seed_database():
    app = create_app()
    
    with app.app_context():
        Note.query.delete()
        db.session.commit()
        
        print("–°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–º–æ-–∑–∞–º–µ—Ç–æ–∫...")
        
        for i, note_data in enumerate(demo_notes):
            created_time = datetime.utcnow() - timedelta(hours=len(demo_notes)-i, minutes=random.randint(0, 59))
            
            note = Note(
                title=note_data['title'],
                content=note_data['content'],
                category=note_data['category']
            )
            note.created_at = created_time
            
            db.session.add(note)
            print(f"  ‚úì –°–æ–∑–¥–∞–Ω–∞: {note.title}")
        
        db.session.commit()
        print(f"\n‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ {len(demo_notes)} –¥–µ–º–æ-–∑–∞–º–µ—Ç–æ–∫!")
        print(f"üìä –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: {len(set(n['category'] for n in demo_notes))}")


if __name__ == '__main__':
    seed_database()
